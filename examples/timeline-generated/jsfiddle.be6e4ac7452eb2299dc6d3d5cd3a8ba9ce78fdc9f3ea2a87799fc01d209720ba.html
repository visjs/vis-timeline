<html>
  <head>
    <meta charset="utf-8" />
    <title>Timeline | markers | Marker events</title>
  </head>
  <body>
    <form
      id="form"
      action="https://jsfiddle.net/api/post/library/pure/"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="css"
        value="body,
html {
  font-family: sans-serif;
  font-size: 11pt;
}
"
      />
      <input
        type="hidden"
        name="html"
        value='<p>The timeline has two marker events.</p>
<ol>
  <li>
    <p>
      <code>markerchange</code> which is fired when a marker title has been
      changed.
    </p>
  </li>
  <li>
    <p>
      <code>markerchanged</code> which is fired when an alteration to a marker
      title is committed.
    </p>
  </li>
</ol>
<div id="visualization"></div>
<br />
<div id="log"></div>
'
      />
      <input
        type="hidden"
        name="js"
        value='var items = new vis.DataSet();
var customDate = new Date();
var options = {
  start: new Date(Date.now() - 1000 * 60 * 60 * 24),
  end: new Date(Date.now() + 1000 * 60 * 60 * 24 * 6),
};

var container = document.getElementById("visualization");
var timeline = new vis.Timeline(container, items, options);
var id = "id";
timeline.addCustomTime(
  new Date(
    customDate.getFullYear(),
    customDate.getMonth(),
    customDate.getDate() + 3,
  ),
  id,
);
timeline.setCustomTimeMarker("Enter some text", id, true);
timeline.on("markerchange", function (properties) {
  logEvent("markerchange", properties);
});
timeline.on("markerchanged", function (properties) {
  logEvent("markerchanged", properties);
});

function logEvent(event, properties) {
  var log = document.getElementById("log");
  var msg = document.createElement("div");
  msg.innerHTML =
    "event=" + event + ", " + "properties=" + JSON.stringify(properties);
  log.firstChild ? log.insertBefore(msg, log.firstChild) : log.appendChild(msg);
}
'
      />
      <input
        type="hidden"
        name="resources"
        value="https://visjs.github.io/vis-timeline/standalone/umd/vis-timeline-graph2d.min.js"
      />
      <input
        type="hidden"
        name="title"
        value="Timeline | markers | Marker events"
      />
      <input type="hidden" name="wrap" value="b" />
      <button id="open" alt="JSFiddle" title="JSFiddle">Open JSFiddle</button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
